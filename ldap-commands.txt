ldapsearch -x -b '' -s base '(objectclass=*)' namingContexts

# Finding the Current RootDN Information
sudo ldapsearch -H ldapi:// -LLL -Q -Y EXTERNAL -b "cn=config" "(olcRootDN=*)" dn olcRootDN olcRootPW | tee ~/newpasswd.ldif

# modify above command's output to a password reset ldiff file:
dn: olcDatabase={2}mdb,cn=config
#olcRootDN: cn=Manager,dc=my-domain,dc=com
changetype: modify
replace: olcRootPW
olcRootPW: {SSHA}eMB1NrtNfRY9ZLGp+J9GtESayTYb1jf3


# reset rootDn password with ldif file
sudo ldapmodify -H ldapi:// -Y EXTERNAL -f reset-rootDN-password.ldif

# ldif to update database
[kiarash@thinkpad ldap]$ cat olcDatabase2.ldif
dn: olcDatabase={2}mdb,cn=config
changetype: modify
replace: olcSuffix
olcSuffix: dc=tacos,dc=com
-
replace: olcRootDN
olcRootDN: cn=Manager,dc=tacos,dc=com
-
replace: olcRootPW
olcRootPW:: e1NTSEF9ZU1CMU5ydE5mUlk5WkxHcCtKOUd0RVNheVRZYjFqZjM=

